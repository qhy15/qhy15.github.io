<h4>1. 从<a href="http://archive.apache.org/dist/subversion/">官网</a>下载安装subversion-1.8.10的源码</h4>

<h4>2. 安装serf</h4>

<p>1.8以上的SVN需要使用serf。所以需要先安装serf。</p>

<blockquote>
<p>The default SVN install on Mac OS X uses neon, however the new 1.8 version of SVN only supports serf.</p>
</blockquote>

<h5>2.1 下载serf</h5>

<p>使用terminal执行：</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">cd ~/path/to/subversion-1.8.10
sh get-deps.sh serf
cd serf/
</code></pre></div>
<p>其中get-deps.sh包含下载安装Subversion所需文件的指令。</p>

<blockquote>
<p># get-deps.sh -- download the dependencies useful for building Subversion</p>
</blockquote>

<h5>2.1 安装Scons</h5>

<p>Scons的README文件中写到：<code>serf uses SCons 2.3 for its build system.</code>。所以还需要先安装Scons才能再安装serf。</p>

<p>以下为安装serf的步骤。</p>

<h5>2.1.1 从<a href="http://prdownloads.sourceforge.net/scons/scons-local-2.3.0.tar.gz">http://prdownloads.sourceforge.net/scons/scons-local-2.3.0.tar.gz</a>位置下载Scons。</h5>

<h5>2.1.2  将下载的Scons-local-2.3.0.tar.gz解压到serf目录下。</h5>

<h5>2.1.2  进入到serf目录下执行</h5>
<div class="highlight"><pre><code class="language-text" data-lang="text">$ python scons.py
</code></pre></div>
<p>注意，如果Scons解压到serf的Scons-local-2.3.0目录下，则需要在命令中指明。</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">$ python scons-local-2.3.0/scons.py
</code></pre></div>
<h5>2.1.3  创建一个symlink &#39;scons&#39;指向scons.py的路径。</h5>
<div class="highlight"><pre><code class="language-text" data-lang="text">sudo ln -s /path/to/subversion-1.8.10/serf/scons-local-2.3.0/scons.py scons
</code></pre></div>
<p>其中，<code>/path/to/subversion-1.8.10/serf/</code>为2.1.2中解压Scons的根目录。    </p>

<h5>2.2 设定目录</h5>

<p>在安装serf之前，需要指定APR、APU、OPENSSL和PREFIX的路径。</p>

<p>其中，APR、APU、OPENSSL默认路径为<code>/usr</code>；PREFIX默认路径为<code>/usr/local</code>，需要修改为安装serf的路径。</p>

<p>运行</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">$ scons APR=/path/to/apr APU=/path/to/apu OPENSSL=/openssl/base PREFIX=/path/to/prefix
</code></pre></div>
<p>或者直接 </p>
<div class="highlight"><pre><code class="language-text" data-lang="text">    MacBook-Pro:serf qhy15$ open .saved_config
</code></pre></div>
<p>在文件中修改。</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">    make
    sudo make install
</code></pre></div>
<h5>2.3安装serf</h5>
<div class="highlight"><pre><code class="language-text" data-lang="text">$ scons install
</code></pre></div>
<p>结束后用<code>scons -c</code>清理；如果有问题可以用<code>scons check</code>。</p>

<p>官方文档说的是直接运行上述语句，而我必须加上python才行否则会提示找不到scons指令。</p>

<p>我输入的指令为</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">MacBook-Pro:serf qhy15$ python scons install
</code></pre></div>
<h4>3. 安装SVN</h4>

<p>进入svn根目录（即serf目录的上一层），然后一次执行：</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">./configure 
make
sudo make install
</code></pre></div>
<p>即可。</p>

<p>输入<code>svn --version</code>，应该输出</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">svn, version 1.8.10 
</code></pre></div>
<h4>4.更新Xcode路径</h4>

<p>Xcode使用自己安装的svn，版本低，如果打开使用高版本svn的项目会提示：</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">requires a newer version of Subversion than Xcode supports.
</code></pre></div>
<p>所以需要更新Xcode的svn路径。</p>

<p>执行以下指令即可。先备份原svn指令，再生成指向新版的快捷方式。</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">cd /Applications/Xcode.app/Contents/Developer/usr/bin/
sudo mv ./svn ./svn.org
sudo mv ./svnadmin ./svnadmin.org
sudo mv ./svndumpfilter ./svndumpfilter.org
sudo mv ./svnlook ./svnlook.org
sudo mv ./svnrdump ./svnrdump.org
sudo mv ./svnserve ./svnserve.org
sudo mv ./svnsync ./svnsync.org
sudo mv ./svnversion ./svnversion.org

sudo ln -Ff /usr/local/bin/svn svn
sudo ln -Ff /usr/local/bin/svnadmin svnadmin
sudo ln -Ff /usr/local/bin/svndumpfilter svndumpfilter
sudo ln -Ff /usr/local/bin/svnlook svnlook
sudo ln -Ff /usr/local/bin/svnrdump svnrdump
sudo ln -Ff /usr/local/bin/svnserve svnserve
sudo ln -Ff /usr/local/bin/svnsync svnsync
sudo ln -Ff /usr/local/bin/svnversion svnversion
</code></pre></div>
<h4>参考资料</h4>

<ol>
<li><a href="http://stackoverflow.com/questions/19177699/using-svn-1-8-3-with-xcode-5">Stack Overflow:using SVN 1.8.3 with Xcode 5</a></li>
<li><a href="http://samoldak.com/updating-to-svn-1-8-for-mac-os-x-10-8/">Updating to SVN 1.8 for Mac OSX 10.8</a></li>
</ol>
