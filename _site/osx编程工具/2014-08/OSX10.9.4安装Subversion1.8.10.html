
<!DOCTYPE html>
<html lang="zh">
  <head>
    <meta charset="UTF-8">
    <title>OSX10_9_4安装Subversion1_8_10 - qhy15's space</title>
    
    <meta name="keywords" content="iOS, MAC, other, qhy15">
    <meta name="author" content="qhy15">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- HTML5 shim, for IE6-8 support of HTML elements -->

    <link href="//cdn.bootcss.com/twitter-bootstrap/3.1.1/css/bootstrap.min.css" rel="stylesheet" media="all">
    <link href="//cdn.bootcss.com/font-awesome/4.0.3/css/font-awesome.min.css" rel="stylesheet" media="all">
    <link href="/assets/themes/havee/css/style.css?body=1" rel="stylesheet" media="all">
    <link href="/assets/themes/havee/css/pygments.css" rel="stylesheet" media="all">
    <link href="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.css" rel="stylesheet" media="all">

    <link rel="shortcut icon" href="/favicon.png">
    <link rel="canonical" href="/osx%E7%BC%96%E7%A8%8B%E5%B7%A5%E5%85%B7/2014-08/OSX10.9.4%E5%AE%89%E8%A3%85Subversion1.8.10.html">
    <!-- fav and touch icons -->
    <!-- Update these with your own images
    <link rel="shortcut icon" href="images/favicon.png">
    <link rel="apple-touch-icon" href="images/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="72x72" href="images/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="114x114" href="images/apple-touch-icon-114x114.png">
    -->

    <!-- atom & rss feed -->
    <link href="/atom.xml" type="application/atom+xml" rel="alternate" title="qhy15's space ATOM Feed">
    <link href="/rss.xml" type="application/rss+xml" rel="alternate" title="qhy15's space RSS Feed">

  </head>

  <body>
    <!--[if lte IE 9]>
    <div class="alert alert-warning">
      <p>Your Internet Explorer is not supported. Please upgrade your Internet Explorer to version 9+, or use latest <a href="http://www.google.com/chrome/" target="_blank" class="alert-link">Google chrome</a>、<a href="http://www.mozilla.org/firefox/" target="_blank" class="alert-link">Mozilla Firefox</a>.</p>
      <p>If you are using IE 9 or later, make sure you <a href="http://windows.microsoft.com/en-us/internet-explorer/use-compatibility-view#ie=ie-8" target="_blank" class="alert-link">turn off "Compatibility view"</a>.</p>
    </div>
    <![endif]-->

    <nav class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">
      <!-- Brand and toggle get grouped for better mobile display -->
      <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
		  <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="/" title="qhy15's space">qhy15's space</a>
      </div>

      <!-- Collect the nav links, forms, and other content for toggling -->
      <div class="collapse navbar-collapse navbar-ex1-collapse">
        <ul class="nav navbar-nav">
          
          
          


  
    
  
    
      
    
  
    
      
      	
      	<li><a href="/archive.html">Archive</a></li>
      	
      
    
  
    
      
    
  
    
      
      	
      	<li><a href="/categories.html">Categories</a></li>
      	
      
    
  
    
  
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
      	
      	<li><a href="/tags.html">Tags</a></li>
      	
      
    
  
    
  
    
  
    
  




		  
		  <li><a href="/about/index.html">About Me</a></li>
          <li>
          <form id="search-form" class="form-inline visible-lg" role="form">
            <input type="text" class="form-control input-sm" placeholder="Search" id="query">
          </form>
          </li>
        </ul>

        <ul class="nav navbar-nav navbar-right visible-lg visible-md">
          <li><a href="/rss.xml" target="_blank" title="RSS"><span class="fa fa-rss fa-lg"></span></a></li>
          
          <li><a href="https://github.com/qhy15" target="_blank" title="Github"><span class="fa fa-github fa-lg"></span></a></li>
          
          
          
          
          
          <li><a href="http://weibo.com/qhy15" target="_blank" title="Weibo"><span class="fa fa-weibo fa-lg"></span></a></li>
          
        </ul>
      </div><!-- /.navbar-collapse -->
    </div>
    </nav>

    <div class="container">
      <div class="content">
        
<div class="row">

  <article class="col-md-12 main-contenter">
    <div id="search-loader" style="display:none;text-align:center">
      <img src="/assets/themes/havee/images/loading.gif">
    </div>
    <div class="page-header">
      <h2>
        OSX10_9_4安装Subversion1_8_10
        
      </h2>
	  <div class="bottom">
		<span class="glyphicon glyphicon-user"></span><p>qhy15</p>
	    <span class="glyphicon glyphicon-calendar"></span><p>14 Aug 2014</p>
		<span class="glyphicon glyphicon-folder-open"></span> <a href="/categories.html#osx编程工具-ref" title="osx编程工具"><p>osx编程工具</p></a>
		<span class="glyphicon glyphicon-tags"></span> <a href="/tags.html#Subversion1.8.x-ref" title="Subversion1.8.x"><p>Subversion1.8.x</p></a><a href="/tags.html#OS X-ref" title="OS X"><p>OS X</p></a>
		
      </div>
    </div>
    <div class="wrapper"><h4>1. 从<a href="http://archive.apache.org/dist/subversion/">官网</a>下载安装subversion-1.8.10的源码</h4>

<h4>2. 安装serf</h4>

<p>1.8以上的SVN需要使用serf。所以需要先安装serf。</p>

<blockquote>
<p>The default SVN install on Mac OS X uses neon, however the new 1.8 version of SVN only supports serf.</p>
</blockquote>

<h5>2.1 下载serf</h5>

<p>使用terminal执行：</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">cd ~/path/to/subversion-1.8.10
sh get-deps.sh serf
cd serf/
</code></pre></div>
<p>其中get-deps.sh包含下载安装Subversion所需文件的指令。</p>

<blockquote>
<p># get-deps.sh -- download the dependencies useful for building Subversion</p>
</blockquote>

<h5>2.1 安装Scons</h5>

<p>Scons的README文件中写到：<code>serf uses SCons 2.3 for its build system.</code>。所以还需要先安装Scons才能再安装serf。</p>

<p>以下为安装serf的步骤。</p>

<h5>2.1.1 从<a href="http://prdownloads.sourceforge.net/scons/scons-local-2.3.0.tar.gz">http://prdownloads.sourceforge.net/scons/scons-local-2.3.0.tar.gz</a>位置下载Scons。</h5>

<h5>2.1.2  将下载的Scons-local-2.3.0.tar.gz解压到serf目录下。</h5>

<h5>2.1.2  进入到serf目录下执行</h5>
<div class="highlight"><pre><code class="language-text" data-lang="text">$ python scons.py
</code></pre></div>
<p>注意，如果Scons解压到serf的Scons-local-2.3.0目录下，则需要在命令中指明。</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">$ python scons-local-2.3.0/scons.py
</code></pre></div>
<h5>2.1.3  创建一个symlink &#39;scons&#39;指向scons.py的路径。</h5>
<div class="highlight"><pre><code class="language-text" data-lang="text">sudo ln -s /path/to/subversion-1.8.10/serf/scons-local-2.3.0/scons.py scons
</code></pre></div>
<p>其中，<code>/path/to/subversion-1.8.10/serf/</code>为2.1.2中解压Scons的根目录。    </p>

<h5>2.2 设定目录</h5>

<p>在安装serf之前，需要指定APR、APU、OPENSSL和PREFIX的路径。</p>

<p>其中，APR、APU、OPENSSL默认路径为<code>/usr</code>；PREFIX默认路径为<code>/usr/local</code>，需要修改为安装serf的路径。</p>

<p>运行</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">$ scons APR=/path/to/apr APU=/path/to/apu OPENSSL=/openssl/base PREFIX=/path/to/prefix
</code></pre></div>
<p>或者直接 </p>
<div class="highlight"><pre><code class="language-text" data-lang="text">    MacBook-Pro:serf qhy15$ open .saved_config
</code></pre></div>
<p>在文件中修改。</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">    make
    sudo make install
</code></pre></div>
<h5>2.3安装serf</h5>
<div class="highlight"><pre><code class="language-text" data-lang="text">$ scons install
</code></pre></div>
<p>结束后用<code>scons -c</code>清理；如果有问题可以用<code>scons check</code>。</p>

<p>官方文档说的是直接运行上述语句，而我必须加上python才行否则会提示找不到scons指令。</p>

<p>我输入的指令为</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">MacBook-Pro:serf qhy15$ python scons install
</code></pre></div>
<h4>3. 安装SVN</h4>

<p>进入svn根目录（即serf目录的上一层），然后一次执行：</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">./configure 
make
sudo make install
</code></pre></div>
<p>即可。</p>

<p>输入<code>svn --version</code>，应该输出</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">svn, version 1.8.10 
</code></pre></div>
<h4>4.更新Xcode路径</h4>

<p>Xcode使用自己安装的svn，版本低，如果打开使用高版本svn的项目会提示：</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">requires a newer version of Subversion than Xcode supports.
</code></pre></div>
<p>所以需要更新Xcode的svn路径。</p>

<p>执行以下指令即可。先备份原svn指令，再生成指向新版的快捷方式。</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">cd /Applications/Xcode.app/Contents/Developer/usr/bin/
sudo mv ./svn ./svn.org
sudo mv ./svnadmin ./svnadmin.org
sudo mv ./svndumpfilter ./svndumpfilter.org
sudo mv ./svnlook ./svnlook.org
sudo mv ./svnrdump ./svnrdump.org
sudo mv ./svnserve ./svnserve.org
sudo mv ./svnsync ./svnsync.org
sudo mv ./svnversion ./svnversion.org

sudo ln -Ff /usr/local/bin/svn svn
sudo ln -Ff /usr/local/bin/svnadmin svnadmin
sudo ln -Ff /usr/local/bin/svndumpfilter svndumpfilter
sudo ln -Ff /usr/local/bin/svnlook svnlook
sudo ln -Ff /usr/local/bin/svnrdump svnrdump
sudo ln -Ff /usr/local/bin/svnserve svnserve
sudo ln -Ff /usr/local/bin/svnsync svnsync
sudo ln -Ff /usr/local/bin/svnversion svnversion
</code></pre></div>
<h4>参考资料</h4>

<ol>
<li><a href="http://stackoverflow.com/questions/19177699/using-svn-1-8-3-with-xcode-5">Stack Overflow:using SVN 1.8.3 with Xcode 5</a></li>
<li><a href="http://samoldak.com/updating-to-svn-1-8-for-mac-os-x-10-8/">Updating to SVN 1.8 for Mac OSX 10.8</a></li>
</ol>
</div>
    <div class="cc">
		<br>
		本作品由 qhy15 创作，采用 
		 <a target="_blank" href="http://creativecommons.org/licenses/by-nc-sa/3.0/cn/">CC BY-NC-SA 3.0 许可协议 </a>
		 进行许可。
		 <!--
      <a target="_blank" href="http://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh">
        <img title="署名-非商业性使用-相同方式共享 4.0 国际" src="/assets/images/CC.png" alt="License"></img>
      </a>
			 -->
    </div>
    <div class="row status">
      <div class="col-md-6">
        <div class="btn-group">
          
          <a class="btn btn-primary btn-sm" href="/%E5%BC%80%E5%8F%91ios%E5%BA%94%E7%94%A8%E5%85%A5%E9%97%A8/2014-07/%E5%9C%A8%E8%87%AA%E5%B7%B1%E7%9A%84%E8%AE%BE%E5%A4%87%E4%B8%8A%E8%BF%90%E8%A1%8C%E8%87%AA%E5%B7%B1%E5%86%99%E7%9A%84iOS%E5%BA%94%E7%94%A8.html" title="在自己的设备上运行自己写的iOS应用">&laquo; Prev</a>
          
          <a class="btn btn-primary btn-sm" href="/archive.html">Archive</a>
          
          <a class="btn btn-primary btn-sm disabled">Next &raquo;</a>
          
        </div>
      </div>
      <div class="col-md-6 visible-lg visible-md">
      

      </div>
    </div>
    
<div id="comments">
  <div class="ds-thread" data-thread-key="/osx%E7%BC%96%E7%A8%8B%E5%B7%A5%E5%85%B7/2014-08/OSX10.9.4安装Subversion1.8.10"  data-title="OSX10_9_4安装Subversion1_8_10 - qhy15's space"></div>
</div>


  </article>

</div>


      </div>
<!--<a href="default.html" id="" title="default">default</a>-->
      <footer class="text-left">
      <p>&copy; 2014 <a href="/" target="_blank">qhy15</a>. with Help from <a href="http://jekyllbootstrap.com/" target="_blank" title="The Definitive Jekyll Blogging Framework">Jekyll Bootstrap</a>, <a href="http://twitter.github.com/bootstrap/" target="_blank">Twitter Bootstrap</a> and <a href="https://github.com/Ihavee/ihavee.github.io" target="_blank">Havee's theme.</a></p>
      </footer>
    </div> <!-- /container -->

    <script src="//cdn.bootcss.com/jquery/2.1.0/jquery.min.js"></script>
    <script>window.jQuery || document.write('<script src="/assets/themes/havee/js/jquery.min.js"><\/script>')</script>
    <script src="//cdn.bootcss.com/twitter-bootstrap/3.1.1/js/bootstrap.min.js"></script>
    <script>window.jQuery || document.write('<script src="/assets/themes/havee/js/bootstrap.min.js"><\/script>')</script>
    <script src="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.js"></script>
    <script>window.jQuery || document.write('<script src="/assets/themes/havee/js/jquery.fancybox.min.js"><\/script>')</script>
    <script src="/assets/themes/havee/js/webcore.js"></script>
    
    <script src="//cdn.bootcss.com/webfont/1.3.0/webfont.min.js"></script>
    <script>window.jQuery || document.write('<script src="/assets/themes/havee/js/webfont.min.js"><\/script>')</script>
    <script type="text/javascript">
    WebFont.load ({
        google: {
            families: ['Ubuntu:400,400italic::latin', 'Cambo::latin', 'PT+Mono::latin']
        },
        timeout: 2000 // set the timeout to n secends
    });
    </script>
    

    


  <!-- duoshuo Begin -->
<script type="text/javascript">
var duoshuoQuery = {short_name:"qhy15"};
(function() {
  var ds = document.createElement('script');
  ds.type = 'text/javascript';ds.async = true;
  ds.src = 'http://static.duoshuo.com/embed.js';
  ds.charset = 'UTF-8';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ds);
})();
</script>
<!-- duoshuo End -->





	
	<!--多说js加载开始，一个页面只需要加载一次 -->
	    <script type="text/javascript">
	      var duoshuoQuery = {short_name:"qhy15"};
	      (function() {
	        var ds = document.createElement('script');
	        ds.type = 'text/javascript';ds.async = true;
	        ds.src = 'http://static.duoshuo.com/embed.js';
	        ds.charset = 'UTF-8';
	        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ds);
	      })();
	    </script>
	    <!--多说js加载结束，一个页面只需要加载一次 -->
	
    

    

  </body>
</html>

